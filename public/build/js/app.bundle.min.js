!function e(t,r,a){function o(s,i){if(!r[s]){if(!t[s]){var d="function"==typeof require&&require;if(!i&&d)return d(s,!0);if(n)return n(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=r[s]={exports:{}};t[s][0].call(c.exports,function(e){var r=t[s][1][e];return o(r||e)},c,c.exports,e,t,r,a)}return r[s].exports}for(var n="function"==typeof require&&require,s=0;s<a.length;s++)o(a[s]);return o}({1:[function(e,t,r){"use strict";var a=e("./scenes/proceduralCity");window.onload=a.proceduralCity},{"./scenes/proceduralCity":2}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.proceduralCity=function(){var e=THREE,t=void 0,r=void 0,a=void 0,o=void 0,n=void 0,s=void 0,i=void 0,d=void 0;function l(t,r,a){var o=(2*Math.round(Math.random())-1)*Math.random()*Math.random()*Math.random()*Math.random()*.05;r.r=c(r.r+o),a.r=c(a.r+.1*o),t.faces[0].vertexColors=t.faces[2].vertexColors=t.faces[6].vertexColors=t.faces[8].vertexColors=[r,a,r],t.faces[1].vertexColors=t.faces[3].vertexColors=t.faces[7].vertexColors=t.faces[9].vertexColors=[a,a,r],t.faces[4].vertexColors=t.faces[5].vertexColors=[r,r,r];var n=new e.Mesh(t);return n.position.x=10*Math.floor(200*Math.random()-100),n.position.z=10*Math.floor(200*Math.random()-100),n.rotation.y=Math.random()*Math.PI*2,n.scale.x=Math.random()*Math.random()*Math.random()*Math.random()*50+10,n.scale.z=n.scale.x,n.scale.y=Math.random()*Math.random()*Math.random()*n.scale.x*8+8,n}function c(e){return e<0?0:e>1?1:e}function f(e){r=t.offsetWidth,a=t.offsetHeight,o.setSize(r,a),n.aspect=r/a,n.updateProjectionMatrix()}function u(){d.update(i.getDelta()),o.render(s,n),requestAnimationFrame(u)}!function(){t=document.getElementById("webglContainer"),r=t.offsetWidth,a=t.offsetHeight,(o=new e.WebGLRenderer({alpha:!0,antialias:!0})).setSize(r,a),t.appendChild(o.domElement),(n=new e.PerspectiveCamera(45,r/a,.1,4e3)).position.set(0,150,0),n.lookAt(0,0,0),(s=new e.Scene).fog=new e.FogExp2(13689072,7e-4),new e.AxesHelper(20);var c=new e.HemisphereLight(16777200,1052704,1.25);c.position.set(.75,1,.25),s.add(c),(d=new e.FirstPersonControls(n)).movementSpeed=80,d.lookSpeed=.08,d.lookVertical=!0,i=new e.Clock,function(){var t=new e.CubeTextureLoader,r=t.load(["app/assets/textures/nebula/left.jpg","app/assets/textures/nebula/right.jpg","app/assets/textures/nebula/top.jpg","app/assets/textures/nebula/bottom.jpg","app/assets/textures/nebula/front.jpg","app/assets/textures/nebula/back.jpg"]),a=e.ShaderLib.cube;a.uniforms.tCube.value=r;var o=new e.ShaderMaterial({fragmentShader:a.fragmentShader,vertexShader:a.vertexShader,uniforms:a.uniforms,depthWrite:!1,side:e.BackSide});o.needsUpdate=!0;var n=new e.BoxGeometry(3e3,3e3,3e3,1,1,1),i=new e.Mesh(n,o);s.add(i)}(),function(t){var r=new e.Mesh(new e.PlaneGeometry(2e3,2e3),new e.MeshBasicMaterial({color:1052696}));r.rotation.x=-90*Math.PI/180,s.add(r);var a=new e.Geometry,n=new e.BoxGeometry(1,1,1);n.applyMatrix((new e.Matrix4).makeTranslation(0,.5,0)),n.faces.splice(6,2),n.faceVertexUvs[0].splice(6,2),n.faceVertexUvs[0][4][0].set(0,0),n.faceVertexUvs[0][4][1].set(0,0),n.faceVertexUvs[0][4][2].set(0,0),n.faceVertexUvs[0][5][0].set(0,0),n.faceVertexUvs[0][5][1].set(0,0),n.faceVertexUvs[0][5][2].set(0,0);for(var i=new e.Color(1069311),d=new e.Color(3158096),c=1-Math.random()*Math.random(),f=(new e.Color).setRGB(c+.1*Math.random(),c,c+.1*Math.random()),u=f.clone().multiply(i),h=f.clone().multiply(d),p=0;p<t;p++)a.mergeMesh(l(n.clone(),u,h));var v=new e.Texture(function(){var e=document.createElement("canvas");e.width=32,e.height=64;var t=e.getContext("2d");t.fillStyle="#ffffff",t.fillRect(0,0,32,64);for(var r=2;r<64;r+=2)for(var a=0;a<32;a+=2){var o=Math.floor(64*Math.random());t.fillStyle="rgb("+[o,o,o].join(",")+")",t.fillRect(a,r,2,1)}var n=document.createElement("canvas");return n.width=512,n.height=1024,(t=n.getContext("2d")).imageSmoothingEnabled=!1,t.webkitImageSmoothingEnabled=!1,t.mozImageSmoothingEnabled=!1,t.drawImage(e,0,0,n.width,n.height),n}());v.anisotropy=o.capabilities.getMaxAnisotropy(),v.needsUpdate=!0;var m=new e.Mesh(a,new e.MeshBasicMaterial({vertexColors:e.VertexColors,map:v}));s.add(m)}(8500),window.addEventListener("resize",f,!1),u()}()}},{}]},{},[1]);
//# sourceMappingURL=app.bundle.min.js.map
